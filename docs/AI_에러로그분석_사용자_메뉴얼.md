# 🔍 AI 에러 로그 분석 기능 사용자/관리자 메뉴얼

**작성일**: 2025년 12월  
**버전**: 2.0.0  
**대상**: 사용자 및 관리자

> 웹 애플리케이션에서 에러 로그를 분석하고, 해결방안을 확인하며, 이력을 관리하는 종합 가이드

---

## 📋 목차

1. [기능 개요](#기능-개요)
2. [시작하기](#시작하기)
3. [화면 구성 및 사용법](#화면-구성-및-사용법)
4. [주요 기능 상세 설명](#주요-기능-상세-설명)
5. [에러 로그 현황 관리](#에러-로그-현황-관리)
6. [문제 해결](#문제-해결)
7. [관리자 가이드](#관리자-가이드)

---

## 기능 개요

### 🎯 주요 기능

**AI 에러 로그 분석** 기능은 다음과 같은 기능을 제공합니다:

1. **에러 로그 분석**
   - 에러 로그 파일 또는 내용을 입력하여 자동 분석
   - 여러 에러를 자동으로 감지하고 분리
   - 각 에러별 타입, 심각도, 영향도 자동 분류

2. **해결방안 제시**
   - 각 에러별 맞춤형 해결방안 제공
   - 우선순위별 해결방안 제시
   - 재발 방지책 제안

3. **에러 로그 저장 및 관리**
   - 분석된 에러를 데이터베이스에 저장
   - 발생일자별 그룹화 조회
   - 저장시간 및 발생시간 추적

4. **에러 로그 현황 조회**
   - 저장된 에러 로그 목록 조회
   - 발생일자별 그룹화 표시
   - 상세 정보 확인

### ✨ 핵심 특징

- **자동화**: 수동 분석 불필요, AI가 자동으로 에러 감지 및 분류
- **개별 분석**: 각 에러마다 개별적인 해결방안 제공
- **이력 관리**: 모든 에러를 데이터베이스에 저장하여 추적 가능
- **직관적 UI**: 사용하기 쉬운 웹 인터페이스

---

## 시작하기

### 1. 접근 방법

1. 웹 애플리케이션에 로그인
2. 메인 화면에서 **"AI 에러로그 분석"** 메뉴 클릭
3. 또는 상단 메뉴에서 **"AI 도구"** → **"에러 로그 분석"** 선택

### 2. 기본 사용 흐름

```
1. 에러 로그 입력
   ↓
2. AI 분석 실행
   ↓
3. 분석 결과 확인
   ↓
4. 해결방안 검토
   ↓
5. 에러 로그 저장 (선택)
   ↓
6. 에러 로그 현황에서 확인
```

---

## 화면 구성 및 사용법

### 📱 메인 화면 구성

#### 1. 입력 영역

**에러 로그 파일 경로 (선택사항)**
- 로그 파일의 경로를 입력할 수 있습니다
- 예: `logs/error.log`, `logs/sample-error-02.log`
- 비워두면 로그 내용을 직접 입력해야 합니다

**에러 로그 내용**
- 에러 로그 내용을 직접 붙여넣을 수 있는 텍스트 영역
- 여러 줄의 로그를 입력할 수 있습니다
- 최소 1줄 이상의 내용이 필요합니다

#### 2. 분석 버튼

**🔍 AI 에러 로그 분석하기**
- 입력된 로그를 분석하는 버튼
- 분석 중에는 "분석 중..." 메시지가 표시됩니다
- 분석 중에는 중복 요청이 방지됩니다

**🗑️ 초기화**
- 입력된 내용을 모두 지우는 버튼
- 분석 결과도 함께 초기화됩니다

### 📊 분석 결과 화면

#### 1. 로그 타입 식별

분석된 로그의 타입 정보가 표시됩니다:

- **감지된 로그 타입**: ISO8601, Standard, GCP 등
- **시스템/프레임워크**: 로그가 생성된 시스템 정보
- **로그 형식**: 로그의 구체적인 형식

#### 2. 요약 정보

**요약 메시지**
- 총 에러 개수
- 주요 에러 타입
- 심각도 정보
- 에러 코드 및 발생 위치

**원인 분석**
- 에러 발생의 주요 원인
- 가능한 원인 목록

**해결방안**
- 우선순위별 해결방안
- 각 해결방안의 상세 설명

#### 3. 에러 목록 테이블

각 에러별 상세 정보가 테이블로 표시됩니다:

| 컬럼 | 설명 |
|------|------|
| **번호** | 에러 순번 |
| **발생일시** | 에러가 발생한 시간 (타임스탬프) |
| **에러 타입** | Database Error, Network Error 등 |
| **심각도** | ERROR, WARNING, CRITICAL |
| **영향도** | HIGH, MEDIUM, LOW |
| **카테고리** | 에러 카테고리 |
| **발생 위치** | 파일 경로 및 라인 번호 |
| **작업** | 개별 저장 버튼 |

**심각도 표시**
- `ERROR`: 빨간색 배지
- `WARNING`: 노란색 배지
- `CRITICAL`: 진한 빨간색 배지

**영향도 표시**
- `HIGH`: 빨간색 배지
- `MEDIUM`: 노란색 배지
- `LOW`: 초록색 배지

#### 4. 저장 기능

**💾 분석결과 저장하기**
- 모든 에러를 한 번에 저장하는 버튼
- 여러 에러가 있는 경우 각각 개별적으로 저장됩니다
- 저장 성공 시 "✅ 총 N개의 에러 중 M개가 성공적으로 저장되었습니다" 메시지 표시

**개별 저장 버튼**
- 각 에러 행의 오른쪽에 있는 💾 버튼
- 해당 에러만 개별적으로 저장합니다
- 저장 중에는 로딩 스피너가 표시됩니다

---

## 주요 기능 상세 설명

### 1. 에러 로그 분석

#### 입력 형식

다음과 같은 형식의 로그를 입력할 수 있습니다:

**ISO8601 형식**
```
2025-12-20T09:15:30.123Z ERROR Vue component render error: Cannot read property 'data' of undefined
TypeError: Cannot read property 'data' of undefined
    at App.vue:234:15
```

**대괄호 형식**
```
[2025-12-20 09:20:45] ERROR: Vite build failed
Error: Failed to resolve import "@/components/LoginModal" from "src/App.vue"
```

**표준 형식**
```
2025-12-20 09:30:20 ERROR: SQLite database locked
Error: SQLITE_BUSY: database is locked
```

#### 분석 과정

1. **로그 파싱**
   - 로그 형식 자동 감지
   - 타임스탬프 추출
   - 에러 메시지 분리

2. **에러 분리**
   - 타임스탬프 기준으로 에러 분리
   - 빈 줄 기준으로 에러 블록 분리
   - 여러 줄에 걸친 스택 트레이스 처리

3. **에러 분류**
   - 에러 타입 자동 분류 (Database, Network, Authentication 등)
   - 심각도 자동 판단
   - 영향도 자동 평가

4. **해결방안 생성**
   - 각 에러별 맞춤형 해결방안 생성
   - 우선순위별 정렬
   - 재발 방지책 제안

### 2. 에러 로그 저장

#### 저장 옵션

**전체 저장**
- "💾 분석결과 저장하기" 버튼 클릭
- 모든 에러가 개별적으로 저장됩니다
- 저장 실패한 에러가 있으면 개수도 표시됩니다

**개별 저장**
- 각 에러 행의 💾 버튼 클릭
- 해당 에러만 저장됩니다
- 저장 성공 시 확인 메시지가 표시됩니다

#### 저장되는 정보

각 에러는 다음 정보와 함께 저장됩니다:

- **로그 내용**: 원본 에러 로그 전체
- **발생시간**: 에러가 발생한 시간 (timestamp)
- **저장시간**: 데이터베이스에 저장된 시간 (created_at)
- **에러 타입**: Database Error, Network Error 등
- **심각도**: ERROR, WARNING, CRITICAL
- **해결방안**: 각 에러별 해결방안 목록
- **재발 방지책**: 재발 방지 전략

### 3. 에러 로그 현황 조회

#### 접근 방법

1. 메인 화면에서 **"AI 에러로그 현황"** 버튼 클릭
2. 또는 상단 메뉴에서 **"AI 도구"** → **"에러 로그 현황"** 선택

#### 화면 구성

**발생일자별 그룹화**
- 에러가 발생일자별로 그룹화되어 표시됩니다
- 각 날짜 그룹에는 해당 날짜에 발생한 에러 개수가 표시됩니다
- 날짜는 최신순으로 정렬됩니다

**에러 목록 테이블**

| 컬럼 | 설명 |
|------|------|
| **번호** | 에러 순번 |
| **저장시간** | 데이터베이스에 저장된 시간 |
| **발생시간** | 에러가 실제로 발생한 시간 |
| **시스템** | 시스템 타입 (iso8601 등) |
| **심각도** | ERROR, WARNING, CRITICAL |
| **에러 타입** | Database Error, Network Error 등 |
| **에러 내용** | 에러 메시지 요약 |
| **발생 위치** | 파일 경로 및 라인 번호 |
| **작업** | 상세보기 버튼 |

**🔄 새로고침 버튼**
- 목록을 최신 상태로 업데이트합니다
- 저장 후 자동으로 새로고침됩니다

**상세보기**
- 각 에러의 "상세보기" 버튼 클릭
- 에러의 전체 내용, 해결방안, 재발 방지책을 확인할 수 있습니다

---

## 에러 로그 현황 관리

### 1. 조회 기능

**기본 조회**
- 최신 100개의 에러 로그를 조회합니다
- 발생일자별로 그룹화되어 표시됩니다

**필터링** (향후 기능)
- 시스템 타입별 필터링
- 심각도별 필터링
- 에러 타입별 필터링
- 날짜 범위 필터링

### 2. 정렬 기능

**기본 정렬**
- 날짜별: 최신 날짜부터 표시
- 시간별: 각 날짜 그룹 내에서 최신 시간부터 표시

### 3. 저장시간 vs 발생시간

**저장시간 (created_at)**
- 에러가 데이터베이스에 저장된 시간
- 분석 및 저장 작업을 수행한 시간

**발생시간 (timestamp)**
- 에러가 실제로 발생한 시간
- 로그에 기록된 원본 타임스탬프

**차이점**
- 발생시간은 에러가 실제로 발생한 시간입니다
- 저장시간은 나중에 분석하여 저장한 시간입니다
- 예: 2025-12-20에 발생한 에러를 2025-12-03에 분석하여 저장한 경우

---

## 문제 해결

### 문제 1: 분석이 시작되지 않음

**증상:**
- "AI 에러 로그 분석하기" 버튼을 클릭해도 반응이 없음

**해결 방법:**
1. 에러 로그 내용이 입력되어 있는지 확인
2. 브라우저 콘솔에서 오류 메시지 확인 (F12)
3. API 서버가 실행 중인지 확인
4. 네트워크 연결 상태 확인

### 문제 2: 분석 결과가 표시되지 않음

**증상:**
- 분석은 완료되었지만 결과가 표시되지 않음

**해결 방법:**
1. 브라우저 콘솔에서 오류 메시지 확인
2. 네트워크 탭에서 API 응답 확인
3. 페이지 새로고침 후 다시 시도
4. 로그 형식이 지원되는 형식인지 확인

### 문제 3: 저장이 되지 않음

**증상:**
- 저장 버튼을 클릭했지만 저장되지 않음

**해결 방법:**
1. 브라우저 콘솔에서 오류 메시지 확인
2. API 서버 로그 확인
3. 데이터베이스 연결 상태 확인
4. 저장 후 "에러 로그 현황"에서 확인

### 문제 4: 여러 에러가 하나로만 저장됨

**증상:**
- 여러 에러가 있는데 하나만 저장됨

**해결 방법:**
1. 로그 형식 확인 (각 에러가 타임스탬프로 시작하는지)
2. 빈 줄로 구분되어 있는지 확인
3. 브라우저 콘솔에서 "Python 파서에서 N개의 에러 발견" 메시지 확인
4. API 서버 로그에서 실제 감지된 에러 개수 확인

### 문제 5: 에러 로그 현황에 표시되지 않음

**증상:**
- 저장은 성공했지만 현황 목록에 나타나지 않음

**해결 방법:**
1. "🔄 새로고침" 버튼 클릭
2. 다른 날짜 그룹 확인 (발생일자별로 그룹화됨)
3. 브라우저 콘솔에서 조회 응답 확인
4. API 서버 로그 확인

### 문제 6: 날짜 그룹화가 잘못됨

**증상:**
- 에러가 잘못된 날짜 그룹에 표시됨

**해결 방법:**
1. 로그의 타임스탬프 형식 확인
2. 발생시간과 저장시간의 차이 확인
3. 날짜 형식이 올바른지 확인 (YYYY-MM-DD)

---

## 관리자 가이드

### 1. 시스템 요구사항

**서버 환경**
- Node.js 18 이상
- Python 3.8 이상
- SQLite 데이터베이스

**포트**
- API 서버: 3001
- Vite 개발 서버: 5173

### 2. 설치 및 설정

#### API 서버 실행

```bash
npm run api-server
```

#### 개발 서버 실행

```bash
npm run dev
```

#### 전체 서버 실행

```bash
npm run start:all
```

### 3. 데이터베이스 관리

#### 데이터베이스 위치

```
data/database.db
```

#### 주요 테이블

**error_logs 테이블**
- 저장된 에러 로그 정보
- 각 에러가 개별 row로 저장됨

**error_log_metadata 테이블**
- 에러 로그의 메타데이터
- 해결방안 및 재발 방지책 포함

#### 데이터베이스 백업

```bash
# SQLite 데이터베이스 백업
sqlite3 data/database.db ".backup data/database_backup.db"
```

### 4. 로그 관리

#### API 서버 로그

API 서버 콘솔에서 다음 정보를 확인할 수 있습니다:

- `[API 서버] 에러 로그 분석 요청 수신`
- `[API 서버] Python 파서에서 N개의 에러 발견`
- `[API 서버] N개의 에러를 개별적으로 저장합니다`
- `[API 서버] N개의 에러가 성공적으로 저장되었습니다`

#### 디버깅

브라우저 콘솔에서 다음 로그를 확인할 수 있습니다:

- `[프론트엔드] 에러 로그 분석 요청`
- `[프론트엔드] 저장 응답`
- `[App.vue] 조회 응답`
- `[App.vue] 에러 로그 저장 이벤트 감지`

### 5. 성능 최적화

#### 대용량 로그 처리

- 최대 100개의 에러만 한 번에 조회
- 필요시 `limit` 파라미터 조정

#### 데이터베이스 최적화

```sql
-- 인덱스 생성
CREATE INDEX idx_error_logs_timestamp ON error_logs(timestamp);
CREATE INDEX idx_error_logs_created_at ON error_logs(created_at);
CREATE INDEX idx_error_logs_error_type ON error_logs(error_type);
```

### 6. 보안 고려사항

#### 입력 검증

- 로그 내용의 크기 제한
- SQL 인젝션 방지 (파라미터화된 쿼리 사용)
- XSS 방지 (입력 내용 이스케이프)

#### 접근 제어

- 인증된 사용자만 접근 가능
- 역할 기반 접근 제어 (향후 기능)

### 7. 모니터링

#### 주요 지표

- 분석 요청 수
- 저장된 에러 개수
- 에러 타입별 통계
- 일일/주간/월간 트렌드

#### 알림 설정 (향후 기능)

- 특정 심각도 이상의 에러 발생 시 알림
- 일일/주간 리포트 자동 생성

---

## 부록

### A. 지원하는 로그 형식

1. **ISO8601 형식**: `2025-12-20T09:15:30.123Z ERROR ...`
2. **대괄호 형식**: `[2025-12-20 09:20:45] ERROR: ...`
3. **표준 형식**: `2025-12-20 09:30:20 ERROR: ...`
4. **GCP Cloud Logging 형식**: `resource.type="..." serviceName="..." ...`

### B. 에러 타입 목록

- Database Error
- Network Error
- Authentication Error
- Memory Error
- File System Error
- Syntax Error
- Performance Error
- Service Error
- SSL Error
- Configuration Error

### C. 키보드 단축키

- `Ctrl + Enter`: 분석 실행 (향후 기능)
- `Esc`: 모달 닫기

### D. FAQ

**Q: 여러 에러를 한 번에 분석할 수 있나요?**  
A: 네, 여러 에러가 포함된 로그를 입력하면 자동으로 분리하여 각각 분석합니다.

**Q: 저장된 에러를 삭제할 수 있나요?**  
A: 현재는 삭제 기능이 없습니다. 향후 기능으로 추가 예정입니다.

**Q: 에러 로그를 수정할 수 있나요?**  
A: 현재는 수정 기능이 없습니다. 삭제 후 다시 저장하는 방식을 사용하세요.

**Q: 분석 결과를 파일로 내보낼 수 있나요?**  
A: 현재는 내보내기 기능이 없습니다. 향후 기능으로 추가 예정입니다.

---

## 관련 문서

- [`AI_에러로그분석_MCP_서버_가이드.md`](./AI_에러로그분석_MCP_서버_가이드.md) - 기술적 상세 가이드
- [`에러_로그_분석_MCP_서버_가이드.md`](./에러_로그_분석_MCP_서버_가이드.md) - MCP 서버 가이드
- [`MCP_서버_완전_가이드.md`](../MCP_서버_완전_가이드.md) - MCP 서버 전체 가이드

---

## 버전 히스토리

### v2.0.0 (2025-12)
- ✨ 웹 UI 완성
- ✨ 발생일자별 그룹화 기능
- ✨ 저장시간 및 발생시간 표시
- ✨ 개별 저장 및 일괄 저장 기능
- ✨ 에러 로그 현황 조회 기능
- 🐛 날짜 그룹화 로직 개선
- 🐛 저장 후 자동 새로고침 기능

### v1.0.0 (2025-01)
- 🎉 초기 릴리스
- 기본 에러 로그 분석 기능
- MCP 서버 연동

---

**마지막 업데이트**: 2025년 12월  
**작성자**: 개발팀  
**문의**: 프로젝트 이슈 트래커 또는 팀 채널

