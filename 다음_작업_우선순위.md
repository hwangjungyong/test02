# 🎯 다음 작업 우선순위 가이드

**작성일**: 2025년 1월  
**목적**: 프로젝트 개선을 위한 우선순위별 작업 목록

> **💡 빠른 요약**: [`다음_작업_요약.md`](./다음_작업_요약.md)에서 간단한 요약을 확인할 수 있습니다. (이 문서가 더 상세합니다)

---

## ✅ 완료된 작업 (2025년 1월)

- ✅ 유틸리티 함수 분리 (`src/utils/helpers.js`)
- ✅ API 서비스 레이어 생성 (`src/services/`)
- ✅ 컴포넌트 구조 개선 (디렉토리 생성)
- ✅ 문서 정리 및 통합
- ✅ 자동 실행 스크립트 추가
- ✅ Docker 빌드 및 배포 설정

---

## 🔴 긴급 (즉시 시작)

### 1. 보안 강화 ⚠️

**문제점:**
- API 키가 코드에 하드코딩됨
- Rate Limiting 없음
- 보안 헤더 부족

**작업 내용:**
- [ ] **하드코딩된 API 키 제거**
  - `api-server.js`에서 기본값 제거
  - 환경 변수 필수화
  - 시작 시 검증 추가

- [ ] **Rate Limiting 구현**
  - IP별 요청 제한
  - API 키별 요청 제한
  - 에러 메시지 개선

- [ ] **보안 헤더 추가**
  - CORS 설정 강화
  - XSS 방지 헤더
  - Content Security Policy

**예상 소요 시간**: 2-3일

---

## 🟡 중요 (1주일 내)

### 2. 컴포넌트 분리 계속 🔄

**현재 상태:**
- 디렉토리 구조 생성 완료
- 실제 컴포넌트 분리 진행 중

**작업 내용:**
- [ ] **NewsSearch 컴포넌트 분리**
  - `components/features/NewsSearch.vue` 생성
  - AI 뉴스 검색 로직 이동
  - 데이터 연계도 분석 포함

- [ ] **EconomyNewsSearch 컴포넌트 분리**
  - `components/features/EconomyNewsSearch.vue` 생성
  - 경제 뉴스 검색 로직 이동

- [ ] **UserManagementModal 컴포넌트 분리**
  - `components/modals/UserManagementModal.vue` 생성
  - 사용자 관리 모달 로직 이동

**예상 소요 시간**: 3-5일

---

### 3. 테스트 추가 🧪

**현재 상태:**
- 테스트 코드 없음

**작업 내용:**
- [ ] **테스트 환경 설정**
  - Vitest 설치 및 설정
  - 테스트 디렉토리 구조 생성

- [ ] **핵심 로직 테스트**
  - 유틸리티 함수 테스트 (`utils/helpers.js`)
  - API 서비스 테스트 (`services/newsService.js`)
  - 데이터베이스 함수 테스트

- [ ] **API 엔드포인트 테스트**
  - Supertest 설치
  - 주요 API 엔드포인트 테스트

**예상 소요 시간**: 3-5일

---

## 🟢 중간 우선순위 (2주일 내)

### 4. 성능 최적화 ⚡

**작업 내용:**
- [ ] **메모리 캐시 도입**
  - 뉴스 검색 결과 캐싱
  - TTL 설정 (5분)
  - 캐시 무효화 로직

- [ ] **데이터베이스 인덱스 추가**
  - 사용자 ID 인덱스
  - 수집 시간 인덱스
  - 쿼리 성능 분석

- [ ] **API 응답 최적화**
  - 불필요한 데이터 제거
  - 페이지네이션 구현
  - Gzip 압축 활성화

**예상 소요 시간**: 3-5일

---

### 5. 백엔드 모듈화 🏗️

**작업 내용:**
- [ ] **디렉토리 구조 생성**
  ```
  api-server/
  ├── routes/
  ├── controllers/
  ├── services/
  ├── middleware/
  └── utils/
  ```

- [ ] **라우트 분리**
  - `routes/news.js`
  - `routes/music.js`
  - `routes/books.js`
  - `routes/auth.js`

- [ ] **미들웨어 분리**
  - 인증 미들웨어
  - Rate Limiting 미들웨어
  - 에러 처리 미들웨어

**예상 소요 시간**: 5-7일

---

## 🔵 장기 (1개월 내)

### 6. CI/CD 구축 🚀

**작업 내용:**
- [ ] **GitHub Actions 설정**
  - 자동 테스트 실행
  - 자동 빌드
  - 자동 배포 (선택사항)

- [ ] **코드 품질 도구**
  - ESLint 설정
  - Prettier 설정
  - 코드 품질 체크

**예상 소요 시간**: 3-5일

---

### 7. 모니터링 및 로깅 📊

**작업 내용:**
- [ ] **구조화된 로깅**
  - Winston 또는 Pino 설치
  - 로그 레벨 설정
  - 파일 로그 저장

- [ ] **에러 추적**
  - 에러 수집 시스템
  - 알림 설정 (선택사항)

**예상 소요 시간**: 2-3일

---

## 📋 추천 작업 순서

### Week 1: 보안 강화
1. 하드코딩된 API 키 제거 (1일)
2. Rate Limiting 구현 (1일)
3. 보안 헤더 추가 (1일)

### Week 2: 컴포넌트 분리
4. NewsSearch 컴포넌트 분리 (2일)
5. EconomyNewsSearch 컴포넌트 분리 (1일)
6. UserManagementModal 분리 (2일)

### Week 3: 테스트 추가
7. 테스트 환경 설정 (1일)
8. 핵심 로직 테스트 (2일)
9. API 테스트 (2일)

### Week 4: 성능 최적화
10. 메모리 캐시 도입 (2일)
11. 데이터베이스 인덱스 추가 (1일)
12. API 응답 최적화 (2일)

---

## 🎯 즉시 시작 가능한 작업

### 1. 보안 강화 (가장 시급)

**하드코딩된 API 키 제거:**
```javascript
// 현재 (문제)
const NEWS_API_KEY = process.env.NEWS_API_KEY || '6944bc431cbf4988857f3cb35b4decc6';

// 개선안
const NEWS_API_KEY = process.env.NEWS_API_KEY;
if (!NEWS_API_KEY) {
  throw new Error('NEWS_API_KEY 환경 변수가 설정되지 않았습니다.');
}
```

### 2. Rate Limiting 구현

**패키지 설치:**
```bash
npm install express-rate-limit
```

**구현:**
```javascript
import rateLimit from 'express-rate-limit';

const limiter = rateLimit({
  windowMs: 15 * 60 * 1000, // 15분
  max: 100 // 최대 100 요청
});
```

---

## 💡 추천

**가장 먼저 해야 할 것:**
1. ✅ **보안 강화** - 하드코딩된 API 키 제거 (긴급)
2. ✅ **Rate Limiting** - 서버 보호 (긴급)
3. ✅ **컴포넌트 분리** - 코드 구조 개선 (진행 중)

**다음 단계:**
- 테스트 추가
- 성능 최적화
- CI/CD 구축

---

**마지막 업데이트**: 2025년 1월

